<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USMLE Step 1 Study Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page-shell">
    <header class="hero">
      <div>
        <!-- <p class="eyebrow">Systems-Based Scheduler</p> -->
        <h1>USMLE Step 1 Planner</h1>
        <!-- <p class="lede">Build a feasible, systems-first plan that weaves Pathoma, BnB, Sketchy Micro, Anki, UWorld, and your practice exams.</p> -->
      </div>
    </header>

    <section class="card" aria-labelledby="inputs-title">
      <div class="card-header">
        <div>
          <p class="eyebrow">Setup</p>
          <h2 id="inputs-title">Plan Settings</h2>
        </div>
      </div>
      <div class="inputs-grid">
        <label class="field">
          <span>Start date</span>
          <input type="date" id="startDate" />
        </label>
        <label class="field">
          <span>Exam date</span>
          <input type="date" id="examDate" />
        </label>
        <div class="field field-group">
          <span>Learning</span>
          <div class="pill-group" id="learningGroup"></div>
        </div>
        <div class="field field-group">
          <span>Practice</span>
          <div class="pill-group" id="practiceGroup"></div>
        </div>
        <div class="field field-group">
          <span>Testing</span>
          <div class="pill-group" id="testingGroup"></div>
        </div>
      </div>
      <div class="actions">
        <button class="primary" type="button" id="generateBtn">Generate schedule</button>
        <div class="hint" id="errorBox" role="status"></div>
      </div>
    </section>

    <section class="card" aria-labelledby="overview-title">
      <div class="card-header">
        <div>
          <p class="eyebrow">Snapshot</p>
          <h2 id="overview-title">Feasibility</h2>
        </div>
      </div>
      <details class="collapsible plan-methodology" aria-labelledby="methodology-title">
        <summary class="collapsible-summary">
          <h3 id="methodology-title">Methodology & Sources</h3>
          <span class="chevron" aria-hidden="true"></span>
        </summary>
        <div class="collapsible-body">
          <div class="methodology-grid">
            <div class="method-block">
              <p class="method-heading">Three phases</p>
              <ol class="phase-list">
                <li><strong>Phase 1 — Systems learning</strong>: Front-load Pathoma + BnB + Sketchy Micro runtimes by system before heavy practice.</li>
                <li><strong>Phase 2 — Mixed review</strong>: Short video touchups plus daily spaced recall and steady practice blocks.</li>
                <li><strong>Phase 3 — Testing & taper</strong>: Place mocks near the exam window, keep buffer days, and lighten load.</li>
              </ol>
            </div>

            <div class="method-block">
              <p class="method-heading">What is factored</p>
              <p class="method-paragraph">Start/exam dates, per-system runtimes (Pathoma, Boards &amp; Beyond, Sketchy Micro), task type coloring (learning, practice, testing), and buffers around long systems and mocks.</p>
            </div>

            <div class="method-block">
              <p class="method-heading">Sources</p>
              <p class="method-paragraph"><a href="https://docs.google.com/document/d/1wnyVLA1mBJwzo7jGOrRBJLEYH-72I70JAhg9sfkO_s4/edit?tab=t.0" target="_blank" rel="noopener">Pathoma Data</a> · <a href="https://drive.google.com/drive/folders/1Fp2Gwh1vOaxLkUTHSsJrDS5cEulgEK5F" target="_blank" rel="noopener">BnB Data</a> · <a href="https://usmle-notes.tumblr.com/post/166512104328/sketchy-micro-to-do-list-01-gram-positive" target="_blank" rel="noopener">Sketchy Micro Data</a></p>
            </div>
          </div>
        </div>
      </details>
      <div class="stats" id="overviewStats"></div>
    </section>

    <section class="card" aria-labelledby="calendar-title">
      <div class="card-header">
        <div>
          <p class="eyebrow">Calendar</p>
          <h2 id="calendar-title">Calendar</h2>
        </div>
        <div class="calendar-controls" aria-label="Calendar navigation">
          <button class="ghost" type="button" id="calPrev">Prev</button>
          <div class="calendar-month" id="calRange"></div>
          <button class="ghost" type="button" id="calNext">Next</button>
          <button class="ghost" type="button" id="calToday">Today</button>
          <button class="primary" type="button" id="downloadIcs">Add to calendar</button>
        </div>
      </div>
      <div class="day-nav" id="dayNav" aria-label="Day navigation">
        <button class="ghost" type="button" id="dayPrev">Prev day</button>
        <div class="day-nav-label" id="dayLabel">Select dates to start</div>
        <button class="ghost" type="button" id="dayNext">Next day</button>
      </div>
      <div id="weeklyCalendar" class="calendar"></div>
      <div class="legend" aria-label="Color legend">
        <span class="legend-dot learning"></span> Learning
        <span class="legend-dot practice"></span> Practice
        <span class="legend-dot exam"></span> Test
        <span class="legend-dot buffer"></span> Buffer/Rest
      </div>
      <div id="dayDetail" class="day-detail"></div>
    </section>
  </div>
  <script src="script.js"></script>
</body>
</html>
